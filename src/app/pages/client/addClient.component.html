<div class="container mt-4">
  <h2>{{ isEditMode ? 'Modifier Client' : 'Ajouter Client' }}</h2>

  <form [formGroup]="clientForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Infos de connexion -->
    <h4 class="mt-3">Informations de connexion</h4>
    <div class="mb-3">
      <label>Nom complet</label>
      <input type="text" class="form-control" formControlName="nomComplet">
      <div *ngIf="submitted && f['nomComplet'].errors" class="text-danger">
        Le nom complet est obligatoire (min 3 caractères).
      </div>
    </div>

    <div class="mb-3">
      <label>Email</label>
      <input type="email" class="form-control" formControlName="email">
      <div *ngIf="submitted && f['email'].errors" class="text-danger">
        Email invalide
      </div>
    </div>

    <div class="mb-3">
      <label>Mot de passe</label>
      <input type="password" class="form-control" formControlName="password">
      <div *ngIf="submitted && f['password'].errors" class="text-danger">
        Mot de passe obligatoire (min 5 caractères).
      </div>
    </div>

    <div class="mb-3">
      <label>Téléphone</label>
      <input type="text" class="form-control" formControlName="telephone">
      <div *ngIf="submitted && f['telephone'].errors" class="text-danger">
        Téléphone invalide (format 77/78/76/70/75 + 7 chiffres)
      </div>
    </div>

    

    <!-- Message d'erreur global -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <!-- Boutons -->
    <button class="btn btn-success" type="submit">
      {{ isEditMode ? 'Mettre à jour' : 'Ajouter' }}
    </button>
    <button class="btn btn-secondary ms-2" type="button" routerLink="router.navigateByUrl('/admin/producteur')">
      Annuler
    </button>
  </form>
</div>
