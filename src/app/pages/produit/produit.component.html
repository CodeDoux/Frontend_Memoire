
<div class="my-products-page">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <h1>Vos Produits</h1>
      <p class="subtitle">G√©rez votre catalogue de produits</p>
    </div>
    <button class="btn-add-product" (click)="addNewProduct()">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 5v10M5 10h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Ajouter un Produit
    </button>
  </div>

  <!-- Stats Section -->
  <div class="stats-cards">
    <div class="stat-card">
      <div class="stat-icon active">‚úì</div>
      <div class="stat-info">
        <span class="stat-value">{{ validatedProducts }}</span>
        <span class="stat-label">Produits valid√©s</span>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon pending">‚è≥</div>
      <div class="stat-info">
        <span class="stat-value">{{ pendingProducts }}</span>
        <span class="stat-label">En attente</span>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon total">üì¶</div>
      <div class="stat-info">
        <span class="stat-value">{{ totalProducts }}</span>
        <span class="stat-label">Total produits</span>
      </div>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters-section">
    <div class="filter-tabs">
      <button 
        class="filter-tab" 
        [class.active]="currentFilter === 'all'"
        (click)="filterProducts('all')">
        Tous ({{ totalProducts }})
      </button>
      <button 
        class="filter-tab" 
        [class.active]="currentFilter === 'validated'"
        (click)="filterProducts('validated')">
        Valid√©s ({{ validatedProducts }})
      </button>
      <button 
        class="filter-tab" 
        [class.active]="currentFilter === 'pending'"
        (click)="filterProducts('pending')">
        En attente ({{ pendingProducts }})
      </button>
    </div>
    <div class="filter-actions">
      <select class="select-filter" [(ngModel)]="sortBy" (change)="sortProducts()">
        <option value="recent">Plus r√©cent</option>
        <option value="name">Nom A-Z</option>
        <option value="price-asc">Prix croissant</option>
        <option value="price-desc">Prix d√©croissant</option>
      </select>
    </div>
  </div>

  <!-- Products Grid -->
  <div class="products-grid" *ngIf="filteredProducts.length > 0">
    <div class="product-card" *ngFor="let product of filteredProducts">
      <!-- Status Badge -->
      <div class="status-badge" [class.validated]="isValid(product)" [class.pending]="!isValid(product)">
        <svg *ngIf="isValid(product)" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M13.5 3.5L6 11l-3.5-3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <svg *ngIf="!isValid(product)" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>{{ isValid(product) ? 'Valid√©' : 'En attente' }}</span>
      </div>

      <!-- Product Image -->
      <div class="product-image">
        <img [src]="getImageUrl(product.images[0].chemin)" [alt]="product.nom" />
        <div class="image-overlay">
          <button class="btn-icon" (click)="editProduct(product)" title="Modifier">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M13.5 3.5l3 3L7 16H4v-3L13.5 3.5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </button>
          <button class="btn-icon" (click)="deleteProduct(product)" title="Supprimer">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M6 4V2h8v2M4 4h12M5 4v12h10V4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Product Info -->
      <div class="product-info">
        <h3 class="product-name">{{ product.nom }}</h3>
        <div class="product-details">
          <span class="product-weight">{{ product.stock }}</span>
          <span class="product-stock" [class.low-stock]="product.stock < 10">
            Stock: {{ product.stock }}
          </span>
        </div>
        <div class="product-footer">
          <span class="product-price">{{ product.prix }} Fr</span>
          <button class="btn-manage" (click)="manageProduct(product)">
            G√©rer
          </button>
        </div>
      </div>

      <!-- Validation Info -->
      <div class="validation-info" *ngIf="!isValid(product)">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
          <circle cx="7" cy="7" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M7 4v4M7 10h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>En cours de v√©rification par l'administrateur</span>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="filteredProducts.length === 0">
    <div class="empty-icon">üì¶</div>
    <h3>Aucun produit trouv√©</h3>
    <p>{{ getEmptyMessage() }}</p>
    <button class="btn-add-first" (click)="addNewProduct()">
      Ajouter votre premier produit
    </button>
  </div>
</div>